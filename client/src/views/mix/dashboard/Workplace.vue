<template>
  <page-header-wrapper :title="false">
    <template v-slot:content>
      <div class="page-header-content">
        <div class="avatar">
          <a-avatar size="large" :src="currentUser.avatar"/>
        </div>
        <div class="content">
          <div class="content-title">
            <!-- {{ timeFix }}，{{ user.name }}<span class="welcome-text">，{{ welcome }}</span> -->
            {{ timeFix }}，{{ currentUser.name }}
          </div>
          <div>{{ currentUser.department }}</div>
        </div>
      </div>
    </template>
    <template v-slot:extraContent>
      <div class="extra-content">
        <div class="stat-item">
          <p>{{ date.toLocaleDateString() }}</p>
        </div>
      </div>
    </template>

    <div>

      <a-card class="project-list" style="margin-bottom: 16px;" :bordered="false" title="快速开始" :body-style="{ padding: 0 }">
        <a-row :gutter="0">
          <a-col :xl="8" :lg="8" :md="8" :sm="24" :xs="24">
            <a-card :bordered="true" >
              <a-card-meta>
                <div slot="title" class="card-title">
                  <svg
                    t="1632228320870"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="5767"
                    width="32"
                    height="32"><path d="M512 899.5c-213.668 0-387.5-173.832-387.5-387.5S298.332 124.5 512 124.5 899.5 298.332 899.5 512 725.668 899.5 512 899.5z" fill="#4472C4" p-id="5768"></path><path d="M512 137c-206.776 0-375 168.224-375 375s168.224 375 375 375 375-168.224 375-375-168.224-375-375-375m0-25c220.914 0 400 179.086 400 400S732.914 912 512 912 112 732.914 112 512s179.086-400 400-400z" fill="#4472C4" p-id="5769"></path><path d="M659.678 340.018a19 19 0 0 0-3.578-10.138 40.12 40.12 0 0 0-8.942-8.346c-3.577-2.384-7.75-4.769-11.326-7.153-4.769-1.192-8.346-2.385-11.326-2.385-4.173 0-9.538 1.788-15.5 4.173-2.981 1.788-5.961 2.981-8.346 4.173-2.981 1.788-5.961 2.981-8.942 2.981-23.845 3.577-46.5 6.557-67.958 7.75-21.461 2.385-44.113 4.173-66.766 5.961a54.549 54.549 0 0 1-9.538 0.6 52.5 52.5 0 0 0-10.134 1.192c-6.557 1.788-9.538 4.769-9.538 8.346 0 7.75 5.961 14.9 19.076 22.057 2.385 1.788 5.961 2.981 10.73 4.173a61.515 61.515 0 0 0 15.5 1.788 91.365 91.365 0 0 0 16.1-1.192l19.672-2.384a120.638 120.638 0 0 0 15.5-2.384l11.326-1.788c0 20.268 0.6 42.325 1.788 64.978l1.785 66.76 1.192 58.42c0 17.884 0.6 31.595 0.6 39.94 0 5.365-0.6 12.519-1.192 20.864-1.192 8.942-2.385 17.288-4.769 25.633s-5.961 16.1-10.73 22.057a23.454 23.454 0 0 1-19.076 8.942 35.866 35.866 0 0 1-16.1-4.173 102.078 102.078 0 0 1-19.672-13.115 184.734 184.734 0 0 1-22.056-21.456A150.822 150.822 0 0 1 426 608.274a131.479 131.479 0 0 1-11.329-20.864c-4.173-7.75-5.961-14.307-5.961-19.076 0-2.981 1.192-5.961 3.577-9.538s4.173-6.557 6.557-8.942l4.172-4.174 1.784-3.576v-2.98a15.8 15.8 0 0 0-1.788-5.961 28.023 28.023 0 0 0-5.365-7.153 42.316 42.316 0 0 0-8.346-5.961c-3.577-1.192-7.153-2.384-10.73-2.384-11.923 0-20.268 4.769-26.23 13.711-5.957 9.536-8.341 19.67-8.341 30.404a42.156 42.156 0 0 0 2.981 16.1 104.614 104.614 0 0 0 7.154 19.076 98.846 98.846 0 0 0 8.941 19.664c3.577 6.557 6.557 11.923 9.538 15.5 13.115 19.076 25.633 33.383 38.152 43.517 11.922 10.73 22.653 19.076 32.787 23.845q14.307 8.942 25.037 10.73A90.4 90.4 0 0 0 502.9 712c16.691 0 31-2.981 42.325-10.134a70.414 70.414 0 0 0 26.23-25.037 116.5 116.5 0 0 0 13.115-35.768 221.19 221.19 0 0 0 3.577-39.94c0-17.288-0.6-36.96-0.6-59.016l-1.788-66.766-1.192-63.189c-0.6-19.672-0.6-36.364-0.6-50.671a100.492 100.492 0 0 0 14.9-1.192c3.577 0 7.154-0.6 10.73-0.6l10.73-1.192a52.422 52.422 0 0 0 11.922-1.788 54.3 54.3 0 0 0 18.48-5.365c5.971-2.382 8.949-5.962 8.949-11.324z" fill="#FFFFFF" p-id="5770"></path></svg>
                  <router-link
                    :to="{ path: '/dashboard/generator_event' }"
                  >
                    机组事件
                  </router-link>
                </div>
                <div slot="description" class="card-description">
                  机组开停机，运行时间统计
                </div>
              </a-card-meta>

            </a-card>
          </a-col>

          <a-col :xl="8" :lg="8" :md="8" :sm="24" :xs="24">
            <a-card :bordered="true" >
              <a-card-meta>
                <div slot="title" class="card-title">
                  <svg
                    t="1632228522033"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="6128"
                    width="32"
                    height="32"><path d="M512 899.5c-213.668 0-387.5-173.832-387.5-387.5S298.332 124.5 512 124.5 899.5 298.332 899.5 512 725.668 899.5 512 899.5z" fill="#4472C4" p-id="6129"></path><path d="M512 137c-206.776 0-375 168.224-375 375s168.224 375 375 375 375-168.224 375-375-168.224-375-375-375m0-25c220.914 0 400 179.086 400 400S732.914 912 512 912 112 732.914 112 512s179.086-400 400-400z" fill="#4472C4" p-id="6130"></path><path d="M664.644 466.559c0-23.155-3.473-43.994-10.42-63.1a166.564 166.564 0 0 0-27.786-48.625 150.268 150.268 0 0 0-43.994-31.838 143.4 143.4 0 0 0-54.993-11c-37.048 0-75.253 13.893-114.617 40.521a73.171 73.171 0 0 1-1.734-12.152c-0.579-1.737-1.158-2.894-1.158-4.052-1.737-2.894-5.789-5.789-11.577-8.683-6.948-2.316-12.737-4.05-17.365-4.05-1.158 0-3.473 1.158-5.789 2.894a61.316 61.316 0 0 0-6.946 5.789 75.169 75.169 0 0 0-6.946 8.1c-1.74 2.317-2.319 4.054-2.319 5.212 0 3.473 0 6.368 1.158 8.683s2.315 5.21 3.473 8.1c1.737 3.473 3.473 6.368 4.631 9.262a71.993 71.993 0 0 0 2.315 9.262l1.158 6.947a43.813 43.813 0 0 0 0.579 8.683 60.091 60.091 0 0 0-4.052 6.946 17.846 17.846 0 0 0-0.579 5.789c0 5.21 2.315 10.42 7.525 15.63l2.315 26.628 1.158 26.628v26.049c0 8.1 0.579 15.63 0.579 21.418 0 18.524-0.579 34.732-0.579 48.625 0 15.051-0.579 28.944-0.579 41.679l-1.737 37.048-1.157 38.788a7.432 7.432 0 0 0 2.315 5.789 18.1 18.1 0 0 0 6.368 5.21 20.424 20.424 0 0 0 7.525 4.631 15.092 15.092 0 0 0 6.368 1.737c5.21 0 9.841-1.737 14.472-5.21 4.052-2.894 6.368-8.1 7.525-16.208 16.208 8.683 31.838 15.051 45.731 18.524 13.893 4.052 24.891 5.789 32.417 5.789 24.313 0 47.467-4.631 68.307-13.893 20.26-8.683 37.627-23.155 52.1-42.836s26.049-45.152 34.153-76.411c8.103-30.682 12.155-68.309 12.155-112.303z m-47.467 9.841c0 35.311-3.473 65.412-9.262 90.883-6.368 25.47-15.051 46.889-25.47 63.676s-23.155 28.944-37.048 37.048c-15.051 8.1-30.1 12.156-46.31 12.156-9.841 0-18.524-1.158-25.47-4.052a110.242 110.242 0 0 1-20.26-9.841 57.185 57.185 0 0 1-8.683-5.21l-6.946-5.21-6.948-3.47c-2.315-0.579-4.631-1.158-8.1-2.315V481.03l-1.158-35.311c0-11.577-0.579-23.734-0.579-35.89a33.091 33.091 0 0 1 4.052-4.631l3.473-4.631a20.6 20.6 0 0 1 6.946-7.525l10.42-10.42c2.894-2.894 5.789-5.789 9.262-8.683a171.366 171.366 0 0 1 18.524-13.893 82.129 82.129 0 0 1 20.839-8.1 180.29 180.29 0 0 1 28.365-2.315 72.868 72.868 0 0 1 38.206 10.42 107.993 107.993 0 0 1 29.522 28.944 154.9 154.9 0 0 1 19.682 40.521 158.53 158.53 0 0 1 6.943 46.883z" fill="#FFFFFF" p-id="6131"></path></svg>
                  <router-link
                    :to="{ path: '/dashboard/meters' }"
                  >
                    电度表
                  </router-link>
                </div>
                <div slot="description" class="card-description">
                  电度表记录，发电量统计
                </div>
              </a-card-meta>
            </a-card>
          </a-col>

          <a-col :xl="8" :lg="8" :md="8" :sm="24" :xs="24">
            <a-card :bordered="true" >
              <a-card-meta>
                <div slot="title" class="card-title">
                  <svg
                    t="1632308862050"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="3959"
                    width="32"
                    height="32"><path d="M512 899.5c-213.668 0-387.5-173.832-387.5-387.5S298.332 124.5 512 124.5 899.5 298.332 899.5 512 725.668 899.5 512 899.5z" fill="#4472C4" p-id="3960"></path><path d="M512 137c-206.776 0-375 168.224-375 375s168.224 375 375 375 375-168.224 375-375-168.224-375-375-375m0-25c220.914 0 400 179.086 400 400S732.914 912 512 912 112 732.914 112 512s179.086-400 400-400z" fill="#4472C4" p-id="3961"></path><path d="M647.761 332.294c0-4.806-2.67-9.613-8.011-13.885C633.876 314.136 628 312 622.661 312c-4.272 0-8.545 1.6-12.817 4.272-4.806 3.2-8.011 5.874-10.147 9.079a139.029 139.029 0 0 0-8.011 14.953l-6.409 16.021-6.409 17.089a138.364 138.364 0 0 1-7.477 15.487l-32.041 59.281c-11.749 20.294-23.5 41.656-36.315 65.154l-14.954-22.965c-4.272-5.875-8.011-11.749-11.749-17.624a241.585 241.585 0 0 1-19.225-36.847c-6.409-16.021-11.749-32.043-14.953-48.6-4.272-16.021-7.477-32.043-10.681-48.6a24.163 24.163 0 0 0-9.613-13.351 33.13 33.13 0 0 0-17.089-4.806 36.962 36.962 0 0 0-18.158 4.806Q377 330.959 377 338.168a9.022 9.022 0 0 0 1.6 5.34c1.068 2.136 1.6 4.272 2.67 5.875 1.068 2.136 2.136 4.806 3.2 6.943s2.136 4.806 3.2 6.943a346.625 346.625 0 0 0 16.021 51.8A443.33 443.33 0 0 0 424 461a472.847 472.847 0 0 0 25.63 44.324c9.079 14.953 19.76 30.975 31.509 47-5.874 9.613-11.215 18.158-15.487 26.168-5.341 8.541-10.152 17.086-14.952 25.097-2.136 3.738-5.874 9.079-10.681 16.021L425.6 642.04a413.509 413.509 0 0 0-13.351 21.362c-4.272 6.409-6.943 11.215-7.477 13.351a18.792 18.792 0 0 0-1.068 6.409c0 6.943 2.136 13.351 6.943 19.76A20.837 20.837 0 0 0 428.268 712c6.409 0 11.215-2.67 14.419-7.477A150.417 150.417 0 0 0 453.9 684.23c3.2-6.409 6.943-13.351 11.215-20.294 10.685-19.226 21.364-38.451 32.579-57.677 10.681-18.692 20.828-37.917 31.506-58.211 16.555-32.043 33.645-63.551 51.8-94.526s35.247-63.017 51.268-95.594a13.385 13.385 0 0 1 2.136-3.738 30.63 30.63 0 0 1 2.136-3.738 16.229 16.229 0 0 1 2.67-3.738 22.611 22.611 0 0 0 2.67-3.738 34.059 34.059 0 0 0 3.2-4.806c1.613-2.67 2.681-4.808 2.681-5.876z" fill="#FFFFFF" p-id="3962"></path></svg>
                  <router-link
                    :to="{ path: '/dashboard/dts' }"
                  >
                    隐患&故障
                  </router-link>
                </div>
                <div slot="description" class="card-description">
                  设备隐患，故障记录
                </div>
              </a-card-meta>
            </a-card>
          </a-col>
        </a-row>

        <a-row :gutter="0">
          <a-col :xl="8" :lg="8" :md="8" :sm="24" :xs="24">
            <a-card :bordered="true" >
              <a-card-meta>
                <div slot="title" class="card-title">
                  <svg
                    t="1632228596174"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="7483"
                    width="32"
                    height="32"><path d="M512 899.5c-213.668 0-387.5-173.832-387.5-387.5S298.332 124.5 512 124.5 899.5 298.332 899.5 512 725.668 899.5 512 899.5z" fill="#4472C4" p-id="7484"></path><path d="M512 137c-206.776 0-375 168.224-375 375s168.224 375 375 375 375-168.224 375-375-168.224-375-375-375m0-25c220.914 0 400 179.086 400 400S732.914 912 512 912 112 732.914 112 512s179.086-400 400-400z" fill="#4472C4" p-id="7485"></path><path d="M698.289 502.361c0-22.892-1.2-46.386-2.41-69.277-2.41-22.892-4.217-46.386-6.626-69.88v-6.626a72.907 72.907 0 0 1 0.6-11.446c0-3.614 0.6-7.229 0.6-11.446 0-8.434-3.012-13.855-8.434-16.867A41.537 41.537 0 0 0 662.742 312a22.245 22.245 0 0 0-16.265 6.626c-4.819 4.819-7.229 9.639-7.229 15.06 0 9.639 0.6 18.675 3.012 27.108 1.807 9.036 3.614 18.072 4.819 27.108 2.41 19.277 4.819 38.554 7.831 57.229a465.814 465.814 0 0 1 3.614 57.831 470.821 470.821 0 0 1-3.614 59.036c-2.41 19.88-5.422 37.349-9.639 52.41-4.217 15.663-9.639 27.711-15.663 36.747-6.627 9.639-13.855 14.458-22.289 14.458s-16.867-6.024-24.7-19.277c-8.434-13.253-15.06-29.518-21.084-48.8a277.586 277.586 0 0 1-9.036-31.928q-4.518-16.265-7.229-30.723c-2.41-9.639-3.614-18.072-4.819-25.9-1.807-7.229-3.012-12.048-3.012-15.663a120.978 120.978 0 0 1-0.6-15.06 125.918 125.918 0 0 1-0.6-15.06 106.824 106.824 0 0 1 0.6-13.253c0-4.819 0.6-9.639 0.6-14.458a40.424 40.424 0 0 0-4.819-19.88c-3.614-4.819-10.241-7.831-19.88-7.831-6.627 0-12.048 2.41-16.867 7.229-4.819 5.422-6.627 10.843-6.627 16.265 0 2.41 0 4.217 0.6 5.422a6.507 6.507 0 0 0 1.807 4.217c0 2.41 0.6 4.217 0.6 5.422 0 2.41 0.6 4.217 0.6 6.024q0 12.651-5.422 39.759l-7.229 36.145-7.229 32.53c-1.2 6.024-3.614 13.855-6.024 24.7-3.012 10.843-6.627 22.289-10.241 33.133-4.217 10.843-9.036 21.084-15.06 30.12-6.626 9.639-14.458 14.458-24.1 14.458-3.614 0-6.627-1.807-10.241-6.024-3.614-3.614-7.229-9.036-10.843-15.663a144.32 144.32 0 0 1-10.223-23.493 173.591 173.591 0 0 1-9.041-28.313 299.748 299.748 0 0 1-8.429-51.807 478.032 478.032 0 0 1-2.41-51.2q0-16.265 1.807-37.952a325.455 325.455 0 0 1 4.819-41.566c1.2-7.831 2.41-15.663 4.819-22.892 1.2-7.229 3.614-13.253 6.024-19.277a22.831 22.831 0 0 1 3.614-7.831l8.436-12.656a13.731 13.731 0 0 0 1.807-6.627c0-3.614-3.012-7.229-7.831-11.446-4.819-3.614-11.446-6.024-19.88-6.024a41.945 41.945 0 0 0-15.06 3.012c-4.819 2.41-7.831 5.422-9.639 9.036-3.614 6.024-6.024 15.06-8.434 28.313-2.41 13.855-4.819 28.313-6.024 43.976q-2.711 23.495-3.619 45.182c-1.2 15.06-1.2 25.9-1.2 33.133 0 9.639 0 21.687 1.2 36.145a471.824 471.824 0 0 0 4.819 47.59 306.254 306.254 0 0 0 9.639 51.2c4.222 17.474 9.642 33.137 16.872 46.39 7.229 14.458 15.663 25.9 26.506 34.337 9.639 9.036 21.687 13.253 36.145 13.253q19.88 0 34.337-12.651c9.639-8.434 17.47-19.277 24.7-33.133 7.229-13.253 13.253-28.916 18.072-46.386s9.036-35.542 12.651-53.614c4.819 25.9 10.843 47.59 17.47 65.663 6.024 18.072 13.253 33.133 20.482 44.578s15.663 19.88 24.1 24.7a46.99 46.99 0 0 0 26.506 7.831c8.434 0 16.867-1.807 26.506-5.422a72.941 72.941 0 0 0 23.494-15.663c12.048-12.048 21.084-26.506 28.313-42.771q10.839-23.492 16.26-57.831c0.6-6.024 1.807-16.265 3.012-31.325 0.603-14.458 1.205-31.928 1.205-53.615z" fill="#FFFFFF" p-id="7486"></path></svg>
                  <a href="javascript:void(0)" @click="onTest">文档</a>
                </div>
                <div slot="description" class="card-description">
                  档案、图册检索，借阅记录
                </div>
              </a-card-meta>
            </a-card>
          </a-col>
        </a-row>
      </a-card>

      <a-card title="动态" :bordered="false">
        <a-list>
          <a-list-item>
            <a-list-item-meta>
              <!-- <a-avatar slot="avatar" :src="item.user.avatar"/> -->
              <div slot="title">
                <span>xxx</span>&nbsp;
              </div>
              <div slot="description">xxx</div>
            </a-list-item-meta>
          </a-list-item>
        </a-list>
      </a-card>

    </div>
  </page-header-wrapper>
</template>

<script>
import { timeFix } from '@/utils/util'
import { mapGetters } from 'vuex'
import { PageHeaderWrapper } from '@ant-design-vue/pro-layout'

export default {
  name: 'Workplace',
  components: {
    PageHeaderWrapper
    // Radar
  },
  data () {
    return {
      timeFix: timeFix(),
      avatar: '',
      user: {},
      date: null
    }
  },
  computed: {
    ...mapGetters([
      'userInfo'
    ]),
    currentUser: function () {
      return {
        name: this.userInfo.username,
        avatar: process.env.VUE_APP_PUBLIC_BASE_URL + this.userInfo.avatarFile,
        department: this.userInfo.department
      }
    }
  },
  created () {
    this.user = this.userInfo
    this.avatar = this.userInfo.avatar

    this.date = new Date()
  },
  // mounted () {

  // },
  methods: {
    onTest () {
      this.$message.warning('未开通')
    }
  }
}
</script>

<style lang="less" scoped>
  @import "./Workplace.less";

  .project-list {

    .card-title {
      font-size: 0;

      a {
        color: rgba(0, 0, 0, 0.85);
        margin-left: 8px;
        line-height: 32px;
        height: 32px;
        display: inline-block;
        vertical-align: top;
        font-size: 14px;

        &:hover {
          color: #1890ff;
        }
      }

      router-link {
        color: rgba(0, 0, 0, 0.85);
        margin-left: 8px;
        line-height: 32px;
        height: 32px;
        display: inline-block;
        vertical-align: top;
        font-size: 14px;

        &:hover {
          color: #1890ff;
        }
      }
    }

    .card-description {
      color: rgba(0, 0, 0, 0.45);
      height: 32px;
      line-height: 22px;
      overflow: hidden;
    }

    // .project-item {
    //   display: flex;
    //   margin-top: 8px;
    //   overflow: hidden;
    //   font-size: 12px;
    //   height: 20px;
    //   line-height: 20px;

    //   a {
    //     color: rgba(0, 0, 0, 0.45);
    //     display: inline-block;
    //     flex: 1 1 0;

    //     &:hover {
    //       color: #1890ff;
    //     }
    //   }

    //   .datetime {
    //     color: rgba(0, 0, 0, 0.25);
    //     flex: 0 0 auto;
    //     float: right;
    //   }
    // }

    // .ant-card-meta-description {
    //   color: rgba(0, 0, 0, 0.45);
    //   height: 44px;
    //   line-height: 22px;
    //   overflow: hidden;
    // }
  }

  .item-group {
    padding: 20px 0 8px 24px;
    font-size: 0;

    a {
      color: rgba(0, 0, 0, 0.65);
      display: inline-block;
      font-size: 14px;
      margin-bottom: 13px;
      width: 25%;
    }
  }

  .members {
    a {
      display: block;
      margin: 12px 0;
      line-height: 24px;
      height: 24px;

      .member {
        font-size: 14px;
        color: rgba(0, 0, 0, .65);
        line-height: 24px;
        max-width: 100px;
        vertical-align: top;
        margin-left: 12px;
        transition: all 0.3s;
        display: inline-block;
      }

      &:hover {
        span {
          color: #1890ff;
        }
      }
    }
  }

  .mobile {

    .project-list {

      .project-card-grid {
        width: 100%;
      }
    }

    .more-info {
      border: 0;
      padding-top: 16px;
      margin: 16px 0 16px;
    }

    .headerContent .title .welcome-text {
      display: none;
    }
  }

</style>
